{"version":3,"file":"js/795.ebbd0114.js","mappings":"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","sources":["webpack://hm-shopping/./src/views/chat/index.vue","webpack://hm-shopping/./src/components/Input.vue","webpack://hm-shopping/src/components/Input.vue","webpack://hm-shopping/./src/components/Input.vue?a8dd","webpack://hm-shopping/./src/components/Input.vue?1fa9","webpack://hm-shopping/./src/components/Message.vue","webpack://hm-shopping/src/components/Message.vue","webpack://hm-shopping/./src/components/Message.vue?5b8f","webpack://hm-shopping/./src/components/Message.vue?216b","webpack://hm-shopping/./src/api/chat.js","webpack://hm-shopping/src/views/chat/index.vue","webpack://hm-shopping/./src/views/chat/index.vue?130e","webpack://hm-shopping/./src/views/chat/index.vue?86c3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-page\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"deepseek-R1\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"18\"}})]},proxy:true}])}),_c('div',{staticClass:\"page-content\"},[_c('div',{ref:\"messageBox\",staticClass:\"message-box\"},_vm._l((_vm.messages),function(msg,index){return _c('Message',{key:index,attrs:{\"send\":msg.code,\"type\":msg.type,\"text\":msg.content,\"user_image\":msg.image,\"send_image\":msg.content}})}),1)]),_c('InputBox',{on:{\"send\":_vm.send,\"upload\":_vm.uploadFile},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input-chat-box\"},[_c('div',{staticClass:\"input-box\"},[_c('div',{staticClass:\"iconfont icon-tupian\",on:{\"click\":function($event){return _vm.$emit('upload')}}},[_c('input',{ref:\"files\",attrs:{\"type\":\"file\",\"id\":\"picture\"},on:{\"change\":_vm.chooseImage}})]),_c('input',{ref:\"input\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.send.apply(null, arguments)}}}),_c('div',{staticClass:\"send\",class:{ highlight: _vm.value.length !== 0 },on:{\"click\":_vm.send}},[_vm._v(\"发送\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"input-chat-box\">\r\n    <div class=\"input-box\">\r\n      <div\r\n        class=\"iconfont icon-tupian\"\r\n        @click=\"$emit('upload')\"\r\n      >\r\n        <input\r\n          type=\"file\"\r\n          id=\"picture\"\r\n          ref=\"files\"\r\n          @change=\"chooseImage\"\r\n        >\r\n      </div>\r\n        <input type=\"text\"\r\n          ref=\"input\"\r\n          :value=\"value\"\r\n          @input=\"$emit('input', $event.target.value)\"\r\n          @keyup.enter=\"send\"\r\n        />\r\n      <div class=\"send\" @click=\"send\" :class=\"{ highlight: value.length !== 0 }\">发送</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'InputBox',\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  methods: {\r\n    send () {\r\n      this.$emit('send')\r\n      this.$nextTick(() => {\r\n        // console.log(1);\r\n        this.$refs.input.focus()\r\n      })\r\n    },\r\n    chooseImage (e) {\r\n      // this.$emit('upload')\r\n      const file = e.target.files[0]\r\n      // console.log(url);\r\n      if (!file || !file.type.startsWith('image/')) { return }\r\n      this.$emit('upload', file)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.input-box {\r\n  z-index: 1;\r\n  width: 375px;\r\n  height: 46px;\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #F6F6F6;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  .iconfont {\r\n    margin: 0 12px;\r\n    font-size: 28px;\r\n    position: relative;\r\n    #picture {\r\n      width: inherit;\r\n      height: inherit;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      opacity: 0;\r\n      pointer-events: none;\r\n    }\r\n  }\r\n  input {\r\n    flex: 1;\r\n    background-color: white;\r\n    font-size: 12px;\r\n    height: 60%;\r\n    border-radius: 5px;\r\n    padding-left: 7px;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n  .send {\r\n    margin: 0 12px;\r\n    width: 15%;\r\n    height: 27px;\r\n    background-color: gray;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    line-height: 27px;\r\n    border-radius: 5px;\r\n    color: white;\r\n  }\r\n  .highlight {\r\n    background-color: rgb(7, 193, 96);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Input.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Input.vue?vue&type=template&id=8d46e7f2&scoped=true\"\nimport script from \"./Input.vue?vue&type=script&lang=js\"\nexport * from \"./Input.vue?vue&type=script&lang=js\"\nimport style0 from \"./Input.vue?vue&type=style&index=0&id=8d46e7f2&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d46e7f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message\"},[(_vm.send === 0)?_c('div',{staticClass:\"index my-message\"},[(_vm.type)?_c('img',{staticClass:\"message-image\",attrs:{\"src\":_vm.send_image}}):_c('div',{staticClass:\"message-text\",domProps:{\"innerHTML\":_vm._s(_vm.text)}}),_c('div',{staticClass:\"user-image\"},[(_vm.type === 0)?_c('div',{staticClass:\"arrow\"}):_vm._e(),_c('img',{attrs:{\"src\":_vm.user_image,\"alt\":\"图片加载失败\"}})])]):_c('div',{staticClass:\"index your-message\"},[_c('div',{staticClass:\"user-image\"},[(!_vm.type)?_c('div',{staticClass:\"arrow\"}):_vm._e(),_c('img',{attrs:{\"src\":_vm.user_image,\"alt\":\"图片加载失败\"}})]),(_vm.type)?_c('img',{staticClass:\"message-image\",attrs:{\"src\":_vm.send_image}}):_c('div',{staticClass:\"message-text\",domProps:{\"innerHTML\":_vm._s(_vm.text)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"message\">\r\n    <div class=\"index my-message\" v-if=\"send === 0\">\r\n      <img\r\n        class=\"message-image\"\r\n        v-if=\"type\"\r\n        :src=\"send_image\"\r\n      />\r\n      <div class=\"message-text\" v-else v-html=\"text\"></div>\r\n      <div class=\"user-image\">\r\n        <div class=\"arrow\" v-if=\"type === 0\"></div>\r\n        <img :src=\"user_image\" alt=\"图片加载失败\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"index your-message\" v-else>\r\n      <div class=\"user-image\">\r\n        <div class=\"arrow\" v-if=\"!type\"></div>\r\n        <img :src=\"user_image\" alt=\"图片加载失败\" />\r\n      </div>\r\n      <img\r\n        class=\"message-image\"\r\n        v-if=\"type\"\r\n        :src=\"send_image\"\r\n      />\r\n      <div class=\"message-text\" v-else v-html=\"text\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MessageBox',\r\n  props: {\r\n    send: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    type: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    text: {\r\n      type: String,\r\n      required: false\r\n    },\r\n    user_image: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    send_image: {\r\n      type: String,\r\n      required: false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@size: 40px;\r\n// 公共样式\r\n.message {\r\n  width: 100%;\r\n  .index {\r\n    display: flex;\r\n    .user-image {\r\n      width: @size;\r\n      height: @size;\r\n      position: relative;\r\n      img {\r\n        width: inherit;\r\n        height: inherit;\r\n        border-radius: 5px;\r\n      }\r\n      .arrow {\r\n        position: absolute;\r\n        width: 0.177 * @size;\r\n        height: 0.177 * @size;\r\n        top: 50%;\r\n        transform-origin: 50% 50%;\r\n      }\r\n    }\r\n    .message-text,\r\n    .message-image {\r\n      margin: 0 10px;\r\n    }\r\n    .message-text {\r\n      // line-height: 45px;\r\n      padding: 0.3 * @size 0.25 * @size;\r\n      font-size: 0.31 * @size;\r\n      border-radius: 8px;\r\n      max-width: 235px;\r\n      display: block;\r\n      transform: 50% 50%;\r\n    }\r\n    .message-image {\r\n      width: 180px;\r\n    }\r\n  }\r\n}\r\n\r\n.my-message {\r\n  display: flex;\r\n  .user-image {\r\n    .arrow {\r\n      background-color: rgb(146, 236, 104);\r\n      transform: translate(-14px, -50%) rotate(45deg);\r\n    }\r\n  }\r\n  .message-text {\r\n    background-color: rgb(146, 236, 104);\r\n  }\r\n}\r\n\r\n.your-message {\r\n  display: flex;\r\n  width: 100%;\r\n  .user-image {\r\n    .arrow {\r\n      right: 92%;\r\n      background-color: white;\r\n      transform: translate(50px, -50%) rotate(45deg);\r\n    }\r\n  }\r\n  .message-text {\r\n    background-color: white;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=fd7232ba&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=fd7232ba&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd7232ba\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/requests'\r\n\r\nexport const getResponse = (content, stream) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: 'http://127.0.0.1:8000/api/chat',\r\n    data: {\r\n      content,\r\n      isStream: stream\r\n    }\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"chat-page\">\r\n    <van-nav-bar\r\n      fixed\r\n      title=\"deepseek-R1\"\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n    >\r\n      <template #right>\r\n        <van-icon name=\"ellipsis\" size=\"18\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"page-content\">\r\n      <div class=\"message-box\" ref=\"messageBox\">\r\n        <Message\r\n          v-for=\"msg, index in messages\"\r\n          :key=\"index\"\r\n          :send=\"msg.code\"\r\n          :type=\"msg.type\"\r\n          :text=\"msg.content\"\r\n          :user_image=\"msg.image\"\r\n          :send_image=\"msg.content\"\r\n        ></Message>\r\n      </div>\r\n    </div>\r\n      <InputBox\r\n        v-model=\"message\"\r\n        @send=\"send\"\r\n        @upload=\"uploadFile\"\r\n      ></InputBox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InputBox from '@/components/Input.vue'\r\nimport Message from '@/components/Message.vue'\r\nimport { getResponse } from '@/api/chat'\r\n\r\nexport default {\r\n  components: {\r\n    InputBox: InputBox,\r\n    Message: Message\r\n  },\r\n  data () {\r\n    return {\r\n      message: '',\r\n      messages: [\r\n        // code: 0 自己  1 对方\r\n        // type: 0 文字  1 图片\r\n        {\r\n          code: 0,\r\n          type: 0,\r\n          content: '你好',\r\n          image: require('@/assets/ffs/feifeisha_1.png')\r\n        },\r\n        {\r\n          code: 1,\r\n          type: 0,\r\n          content: '你好',\r\n          image: require('@/assets/ffs/feifeisha_2.png')\r\n        },\r\n        {\r\n          code: 0,\r\n          type: 1,\r\n          content: require('@/assets/banner1.jpg'),\r\n          image: require('@/assets/ffs/feifeisha_1.png')\r\n        },\r\n        {\r\n          code: 1,\r\n          type: 1,\r\n          content: require('@/assets/banner2.jpg'),\r\n          image: require('@/assets/ffs/feifeisha_1.png')\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    async send () {\r\n      if (this.message === '') {\r\n        return\r\n      }\r\n      this.messages.push({\r\n        code: 0,\r\n        type: 1,\r\n        content: this.message,\r\n        image: require('@/assets/ffs/feifeisha_1.png')\r\n      })\r\n      const content = this.message\r\n      this.message = ''\r\n\r\n      // 发请求\r\n      this.$toast.loading({\r\n        message: '思考中',\r\n        // 禁用背景点击\r\n        forbidClick: true,\r\n        duration: 0\r\n      })\r\n      const res = await getResponse(content, 0)\r\n      this.$toast.clear()\r\n      // console.log(res.message)\r\n\r\n      this.messages.push({\r\n        code: 1,\r\n        type: 1,\r\n        content: res.message,\r\n        image: require('@/assets/logo.png')\r\n      })\r\n\r\n      this.$refs.messageBox.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'end'\r\n      })\r\n    },\r\n    uploadFile () {\r\n      this.$toast.fail('功能开发中')\r\n    }\r\n  },\r\n  created () {\r\n    // 考虑聊天记录持久化\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(@/assets/iconfont/iconfont.css);\r\n.chat-page {\r\n  height: 100vh;\r\n  background-color: #EDEDED;\r\n  .page-content {\r\n    margin: 46px 0;\r\n    padding-top: 15px;\r\n    // height: 80.5vh;\r\n    overflow: scroll;\r\n    .message-box {\r\n      min-height: 550px;\r\n      padding: 0 15px;\r\n      background-color: #EDEDED;\r\n      .message {\r\n        display: flex;\r\n        margin-bottom: 10px;\r\n        justify-content: end;\r\n      }\r\n    }\r\n  }\r\n}\r\n.cover {\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: white;\r\n  position: fixed;\r\n  .enlarge {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: 50%;\r\n    left: 0;\r\n    transform: translateY(-50%);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4164b9d4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4164b9d4&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4164b9d4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","ref","_l","messages","msg","index","code","type","content","image","send","uploadFile","model","value","message","callback","$$v","expression","staticRenderFns","$emit","chooseImage","domProps","target","indexOf","_k","keyCode","apply","arguments","class","highlight","length","_v","name","props","String","default","methods","$nextTick","$refs","input","focus","e","file","files","startsWith","component","send_image","_s","text","_e","user_image","Number","required","getResponse","stream","request","method","url","data","isStream","components","InputBox","Message","require","push","$toast","loading","forbidClick","duration","res","clear","messageBox","scrollIntoView","behavior","block","fail","created"],"sourceRoot":""}