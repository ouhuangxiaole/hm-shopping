"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[795],{1795:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-page"},[t("van-nav-bar",{attrs:{fixed:"",title:"deepseek-R1","left-arrow":""},on:{"click-left":function(t){return e.$router.back()}},scopedSlots:e._u([{key:"right",fn:function(){return[t("van-icon",{attrs:{name:"ellipsis",size:"18"}})]},proxy:!0}])}),t("div",{staticClass:"page-content"},[t("div",{ref:"messageBox",staticClass:"message-box"},e._l(e.messages,(function(e,s){return t("Message",{key:s,attrs:{send:e.code,type:e.type,text:e.content,user_image:e.image,send_image:e.content}})})),1)]),t("InputBox",{on:{send:e.send,upload:e.uploadFile},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)},a=[],n=(s(4114),function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-chat-box"},[t("div",{staticClass:"input-box"},[t("div",{staticClass:"iconfont icon-tupian",on:{click:function(t){return e.$emit("upload")}}},[t("input",{ref:"files",attrs:{type:"file",id:"picture"},on:{change:e.chooseImage}})]),t("input",{ref:"input",attrs:{type:"text"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)}}}),t("div",{staticClass:"send",class:{highlight:0!==e.value.length},on:{click:e.send}},[e._v("发送")])])])}),o=[],r={name:"InputBox",props:{value:{type:String,default:""}},methods:{send(){this.$emit("send"),this.$nextTick((()=>{this.$refs.input.focus()}))},chooseImage(e){const t=e.target.files[0];t&&t.type.startsWith("image/")&&this.$emit("upload",t)}}},c=r,u=s(1656),p=(0,u.A)(c,n,o,!1,null,"8d46e7f2",null),l=p.exports,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message"},[0===e.send?t("div",{staticClass:"index my-message"},[e.type?t("img",{staticClass:"message-image",attrs:{src:e.send_image}}):t("div",{staticClass:"message-text",domProps:{innerHTML:e._s(e.text)}}),t("div",{staticClass:"user-image"},[0===e.type?t("div",{staticClass:"arrow"}):e._e(),t("img",{attrs:{src:e.user_image,alt:"图片加载失败"}})])]):t("div",{staticClass:"index your-message"},[t("div",{staticClass:"user-image"},[e.type?e._e():t("div",{staticClass:"arrow"}),t("img",{attrs:{src:e.user_image,alt:"图片加载失败"}})]),e.type?t("img",{staticClass:"message-image",attrs:{src:e.send_image}}):t("div",{staticClass:"message-text",domProps:{innerHTML:e._s(e.text)}})])])},d=[],m={name:"MessageBox",props:{send:{type:Number,required:!0},type:{type:Number,required:!0},text:{type:String,required:!1},user_image:{type:String,required:!0},send_image:{type:String,required:!1}}},f=m,h=(0,u.A)(f,g,d,!1,null,"fd7232ba",null),y=h.exports,v=s(935);const x=(e,t)=>(0,v.A)({method:"POST",url:"http://127.0.0.1:8000/api/chat",data:{content:e,isStream:t}});var _={components:{InputBox:l,Message:y},data(){return{message:"",messages:[{code:0,type:0,content:"你好",image:s(3722)},{code:1,type:0,content:"你好",image:s(8481)},{code:0,type:1,content:s(2409),image:s(3722)},{code:1,type:1,content:s(9918),image:s(3722)}]}},methods:{async send(){if(""===this.message)return;this.messages.push({code:0,type:1,content:this.message,image:s(3722)});const e=this.message;this.message="",this.$toast.loading({message:"思考中",forbidClick:!0,duration:0});const t=await x(e,0);this.$toast.clear(),this.messages.push({code:1,type:1,content:t.message,image:s(3153)}),this.$refs.messageBox.scrollIntoView({behavior:"smooth",block:"end"})},uploadFile(){this.$toast.fail("功能开发中")}},created(){}},b=_,C=(0,u.A)(b,i,a,!1,null,"4164b9d4",null),k=C.exports},2409:function(e,t,s){e.exports=s.p+"img/banner1.3338df58.jpg"},3153:function(e,t,s){e.exports=s.p+"img/logo.076b8b6f.png"},3722:function(e,t,s){e.exports=s.p+"img/feifeisha_1.0dc843cb.png"},8481:function(e,t,s){e.exports=s.p+"img/feifeisha_2.55fb0b57.png"},9918:function(e,t,s){e.exports=s.p+"img/banner2.e939cba9.jpg"}}]);
//# sourceMappingURL=795.ebbd0114.js.map