{"version":3,"file":"js/466.861c4e8c.js","mappings":"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","sources":["webpack://hm-shopping/./src/views/pay/myorder.vue","webpack://hm-shopping/./src/components/OrderListItem.vue","webpack://hm-shopping/src/components/OrderListItem.vue","webpack://hm-shopping/./src/components/OrderListItem.vue?0e41","webpack://hm-shopping/./src/components/OrderListItem.vue?9f7f","webpack://hm-shopping/src/views/pay/myorder.vue","webpack://hm-shopping/./src/views/pay/myorder.vue?e283","webpack://hm-shopping/./src/views/pay/myorder.vue?8246"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的订单\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-tabs',{attrs:{\"sticky\":\"1\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('van-tab',{attrs:{\"title\":\"全部\",\"name\":\"all\"}}),_c('van-tab',{attrs:{\"title\":\"待支付\",\"name\":\"payment\"}}),_c('van-tab',{attrs:{\"title\":\"待发货\",\"name\":\"delivery\"}}),_c('van-tab',{attrs:{\"title\":\"待收货\",\"name\":\"received\"}}),_c('van-tab',{attrs:{\"title\":\"待评价\",\"name\":\"comment\"}})],1),(_vm.isLogin && _vm.orderList.length === 0)?_c('van-empty',{attrs:{\"image\":require('@/assets/empty.png'),\"description\":\"空空如也\"}}):_vm._l((_vm.orderList),function(order){return _c('OrderListItem',{key:order.order_id,attrs:{\"order\":order,\"list\":order.goods}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-list-item\"},[_c('div',{staticClass:\"tit\"},[_c('div',{staticClass:\"time\",domProps:{\"textContent\":_vm._s(_vm.order.create_time)}}),_c('div',{staticClass:\"status\"},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.order.state_text)}})])]),_vm._l((_vm.list),function(prod){return _c('div',{key:prod.goods_id,staticClass:\"list\"},[_c('div',{staticClass:\"list-item\"},[_c('div',{staticClass:\"goods-img\"},[_c('img',{attrs:{\"src\":prod.goods_image,\"alt\":\"\"}})]),_c('div',{staticClass:\"goods-content text-ellipsis-2\",domProps:{\"textContent\":_vm._s(prod.goods_name)}}),_c('div',{staticClass:\"goods-trade\"},[_c('p',[_vm._v(\"¥ \"+_vm._s(prod.goods_price))]),_c('p',[_vm._v(\"x \"+_vm._s(prod.total_num))])])])])}),_c('div',{staticClass:\"total\"},[_vm._v(\" 共\"+_vm._s(_vm.total)+\"件商品，总金额 ¥ \"+_vm._s(_vm.order.total_price)+\" \")]),_c('div',{staticClass:\"actions\"},[(false)?_c('span',[_vm._v(\"立刻付款\")]):_vm._e(),(true)?_c('span',[_vm._v(\"申请取消\")]):_vm._e(),(false)?_c('span',[_vm._v(\"确认收货\")]):_vm._e(),(false)?_c('span',[_vm._v(\"评价\")]):_vm._e()])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"order-list-item\">\r\n    <div class=\"tit\">\r\n      <div class=\"time\" v-text=\"order.create_time\"></div>\r\n      <div class=\"status\">\r\n        <span v-text=\"order.state_text\"></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"list\" v-for=\"prod in list\" :key=\"prod.goods_id\">\r\n      <div class=\"list-item\">\r\n        <div class=\"goods-img\">\r\n          <img :src=\"prod.goods_image\" alt=\"\" />\r\n        </div>\r\n        <div\r\n          class=\"goods-content text-ellipsis-2\"\r\n          v-text=\"prod.goods_name\"\r\n        ></div>\r\n        <div class=\"goods-trade\">\r\n          <p>¥ {{ prod.goods_price }}</p>\r\n          <p>x {{ prod.total_num }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"total\">\r\n      共{{ total }}件商品，总金额 ¥ {{ order.total_price }}\r\n    </div>\r\n    <div class=\"actions\">\r\n      <span v-if=\"false\">立刻付款</span>\r\n      <span v-if=\"true\">申请取消</span>\r\n      <span v-if=\"false\">确认收货</span>\r\n      <span v-if=\"false\">评价</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    list: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    total () {\r\n      return this.list.reduce((acc, goods) => acc + goods.total_num, 0)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order-list-item {\r\n  margin: 10px auto;\r\n  width: 94%;\r\n  padding: 15px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 0.5px 2px 0 rgba(0, 0, 0, 0.05);\r\n  border-radius: 8px;\r\n  color: #333;\r\n  font-size: 13px;\r\n\r\n  .tit {\r\n    height: 24px;\r\n    line-height: 24px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 20px;\r\n    .status {\r\n      color: #fa2209;\r\n    }\r\n  }\r\n\r\n  .list-item {\r\n    display: flex;\r\n    .goods-img {\r\n      width: 90px;\r\n      height: 90px;\r\n      margin: 0px 10px 10px 0;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n    .goods-content {\r\n      flex: 2;\r\n      line-height: 18px;\r\n      max-height: 36px;\r\n      margin-top: 8px;\r\n    }\r\n    .goods-trade {\r\n      flex: 1;\r\n      line-height: 18px;\r\n      text-align: right;\r\n      color: #b39999;\r\n      margin-top: 8px;\r\n    }\r\n  }\r\n\r\n  .total {\r\n    text-align: right;\r\n  }\r\n  .actions {\r\n    text-align: right;\r\n    span {\r\n      display: inline-block;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      color: #383838;\r\n      border: 0.5px solid #a8a8a8;\r\n      font-size: 14px;\r\n      padding: 0 15px;\r\n      border-radius: 5px;\r\n      margin: 10px 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OrderListItem.vue?vue&type=template&id=bcdacaf0&scoped=true\"\nimport script from \"./OrderListItem.vue?vue&type=script&lang=js\"\nexport * from \"./OrderListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./OrderListItem.vue?vue&type=style&index=0&id=bcdacaf0&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bcdacaf0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"order\">\r\n    <van-nav-bar title=\"我的订单\" fixed left-arrow @click-left=\"$router.back()\" />\r\n    <van-tabs sticky=\"1\" v-model=\"type\">\r\n      <van-tab title=\"全部\" name=\"all\"></van-tab>\r\n      <van-tab title=\"待支付\" name=\"payment\"></van-tab>\r\n      <van-tab title=\"待发货\" name=\"delivery\"></van-tab>\r\n      <van-tab title=\"待收货\" name=\"received\"></van-tab>\r\n      <van-tab title=\"待评价\" name=\"comment\"></van-tab>\r\n    </van-tabs>\r\n\r\n    <!-- 购物车为空 -->\r\n    <van-empty\r\n      v-if=\"isLogin && orderList.length === 0\"\r\n      :image=\"require('@/assets/empty.png')\"\r\n      description=\"空空如也\"\r\n    >\r\n    </van-empty>\r\n\r\n    <OrderListItem v-else\r\n      v-for=\"order in orderList\"\r\n      :key=\"order.order_id\"\r\n      :order=\"order\"\r\n      :list=\"order.goods\"\r\n    ></OrderListItem>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { orderapi } from '@/api/order'\r\nimport OrderListItem from '@/components/OrderListItem.vue'\r\nexport default {\r\n  name: 'OrderPage',\r\n  components: {\r\n    OrderListItem\r\n  },\r\n  data () {\r\n    return {\r\n      type: '',\r\n      orderList: []\r\n    }\r\n  },\r\n  computed: {\r\n    isLogin () {\r\n      return this.$store.state.user.userInfo.token\r\n    }\r\n  },\r\n  watch: {\r\n    async type () {\r\n      if (this.isLogin) {\r\n        const res = await orderapi.getList(this.type)\r\n        this.orderList = res.data.list.data\r\n        console.log(this.orderList)\r\n      }\r\n      // await this.getOrderList(this.type)\r\n    }\r\n  },\r\n  async created () {\r\n    if (!this.isLogin) {\r\n      this.$confirm(\r\n        this.$route.fullPath,\r\n        () => { this.$router.replace('/') }\r\n      )\r\n      return\r\n    }\r\n    this.type = this.$route.query.dataType || 'all'\r\n    const res = await orderapi.getList(this.type)\r\n    this.orderList = res.data.list.data\r\n    // console.log(this.orderList)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order {\r\n  background-color: #fafafa;\r\n  position: relative;\r\n  height: 100vh;\r\n}\r\n.van-tabs {\r\n  position: sticky;\r\n  margin-top: 46px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myorder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myorder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./myorder.vue?vue&type=template&id=3ad5c5e8&scoped=true\"\nimport script from \"./myorder.vue?vue&type=script&lang=js\"\nexport * from \"./myorder.vue?vue&type=script&lang=js\"\nimport style0 from \"./myorder.vue?vue&type=style&index=0&id=3ad5c5e8&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ad5c5e8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","model","value","type","callback","$$v","expression","isLogin","orderList","length","require","_l","order","key","order_id","goods","staticRenderFns","domProps","_s","create_time","state_text","list","prod","goods_id","goods_image","goods_name","_v","goods_price","total_num","total","total_price","_e","props","Object","required","Array","computed","reduce","acc","component","name","components","OrderListItem","data","$store","state","user","userInfo","token","watch","res","orderapi","getList","console","log","created","$confirm","$route","fullPath","replace","query","dataType"],"sourceRoot":""}