"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[466],{466:function(t,s,e){e.r(s),e.d(s,{default:function(){return h}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order"},[s("van-nav-bar",{attrs:{title:"我的订单",fixed:"","left-arrow":""},on:{"click-left":function(s){return t.$router.back()}}}),s("van-tabs",{attrs:{sticky:"1"},model:{value:t.type,callback:function(s){t.type=s},expression:"type"}},[s("van-tab",{attrs:{title:"全部",name:"all"}}),s("van-tab",{attrs:{title:"待支付",name:"payment"}}),s("van-tab",{attrs:{title:"待发货",name:"delivery"}}),s("van-tab",{attrs:{title:"待收货",name:"received"}}),s("van-tab",{attrs:{title:"待评价",name:"comment"}})],1),t.isLogin&&0===t.orderList.length?s("van-empty",{attrs:{image:e(6661),description:"空空如也"}}):t._l(t.orderList,(function(t){return s("OrderListItem",{key:t.order_id,attrs:{order:t,list:t.goods}})}))],2)},a=[],r=e(4180),o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-list-item"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"time",domProps:{textContent:t._s(t.order.create_time)}}),s("div",{staticClass:"status"},[s("span",{domProps:{textContent:t._s(t.order.state_text)}})])]),t._l(t.list,(function(e){return s("div",{key:e.goods_id,staticClass:"list"},[s("div",{staticClass:"list-item"},[s("div",{staticClass:"goods-img"},[s("img",{attrs:{src:e.goods_image,alt:""}})]),s("div",{staticClass:"goods-content text-ellipsis-2",domProps:{textContent:t._s(e.goods_name)}}),s("div",{staticClass:"goods-trade"},[s("p",[t._v("¥ "+t._s(e.goods_price))]),s("p",[t._v("x "+t._s(e.total_num))])])])])})),s("div",{staticClass:"total"},[t._v(" 共"+t._s(t.total)+"件商品，总金额 ¥ "+t._s(t.order.total_price)+" ")]),s("div",{staticClass:"actions"},[t._e(),s("span",[t._v("申请取消")]),t._e(),t._e()])],2)},n=[],l=(e(8111),e(8237),{props:{order:{type:Object,required:!0},list:{type:Array,required:!0}},computed:{total(){return this.list.reduce(((t,s)=>t+s.total_num),0)}}}),d=l,c=e(1656),u=(0,c.A)(d,o,n,!1,null,"bcdacaf0",null),p=u.exports,m={name:"OrderPage",components:{OrderListItem:p},data(){return{type:"",orderList:[]}},computed:{isLogin(){return this.$store.state.user.userInfo.token}},watch:{async type(){if(this.isLogin){const t=await r.h.getList(this.type);this.orderList=t.data.list.data,console.log(this.orderList)}}},async created(){if(!this.isLogin)return void this.$confirm(this.$route.fullPath,(()=>{this.$router.replace("/")}));this.type=this.$route.query.dataType||"all";const t=await r.h.getList(this.type);this.orderList=t.data.list.data}},v=m,_=(0,c.A)(v,i,a,!1,null,"3ad5c5e8",null),h=_.exports}}]);
//# sourceMappingURL=466.861c4e8c.js.map